DROP TABLE IF EXISTS `bt_topic_ext`;
CREATE TABLE `bt_topic_ext`
(
    `ID`           BIGINT(20)   NOT NULL AUTO_INCREMENT COMMENT '主键',
    `CLUSTER_NAME` VARCHAR(50)  NULL COMMENT '集群名称',
    `TOPIC_NAME`   VARCHAR(150) NULL COMMENT '主题名称',
    `CONTENT_TYPE` VARCHAR(150) NULL COMMENT '主题内容类型：BASE, BASE_ARRAY, OBJECT, OBJECT_ARRAY',
    `THREAD_SIZE`  INT(4)       NULL COMMENT 'Mock线程数',
    `BATCH_SIZE`   INT(4)       NULL COMMENT '单线程Mock数据量',
    `DESCRIPTION`  VARCHAR(255) NULL     DEFAULT NULL COMMENT '描述',
    `STATUS`       CHAR(1)      NOT NULL DEFAULT '0' COMMENT '状态：0.待执行 1.正在执行 2.完成',
    `CREATE_AT`    TIMESTAMP    NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `CREATE_BY`    VARCHAR(64)  NULL COMMENT '创建人',
    `UPDATE_AT`    DATETIME     NULL COMMENT '更新时间',
    `UPDATE_BY`    VARCHAR(64)  NULL COMMENT '更新人',
    PRIMARY KEY (`ID`),
    KEY `IDX_BT_TE_CN_TN` (`CLUSTER_NAME`, `TOPIC_NAME`)
) ENGINE = INNODB
  DEFAULT CHARSET = UTF8 COMMENT '业务表-主题扩展信息';

DROP TABLE IF EXISTS `bt_topic_ext_prop`;
CREATE TABLE `bt_topic_ext_prop`
(
    `ID`        BIGINT(20)   NOT NULL AUTO_INCREMENT COMMENT '主键',
    `PID`       BIGINT(20)   NULL COMMENT '所属ID',
    `CODE`      VARCHAR(50)  NOT NULL COMMENT '属性代码',
    `NAME`      VARCHAR(150) NULL COMMENT '属性名称',
    `TYPE`      VARCHAR(20)  NOT NULL COMMENT '属性类型',
    `SORT`      INT(4)       NULL COMMENT '序号',
    `VAL_REGEX` VARCHAR(250) NULL COMMENT '值或正则（多个","拼接）',
    `VAL_EDIT`   VARCHAR(50)  NULL COMMENT '调整值',
    `VAL_DEL`   VARCHAR(50)  NULL COMMENT '删除值',
    `STATUS`    CHAR(1)      NOT NULL DEFAULT '0' COMMENT '状态：0.禁用 1.启用 3.删除',
    PRIMARY KEY (`ID`),
    KEY `IDX_BT_TEP_PID` (`PID`)
) ENGINE = INNODB
  DEFAULT CHARSET = UTF8 COMMENT '业务表-主题内容属性信息';